function scrolltocurrent(){var e=$(panelId+currentpage),n=e.position().top;$("html, body").animate({scrollTop:n},200)}var fullHeight=$(".__full-height"),windowHeight=$(window).height();fullHeight.css("min-height",windowHeight),$(window).resize(function(){var e=$(window).height();fullHeight.css("min-height",e)});var pages=4,panelId="#panel_",currentpage=document.location.hash?parseInt(document.location.hash.replace("#panel_","")):1,nextpage=currentpage>=pages?pages:currentpage+1,prevpage=currentpage<=1?1:currentpage-1,animatingup=!1,animatingdown=!1,resizeTimer;window.onresize=function(e){clearTimeout(resizeTimer),resizeTimer=setTimeout(scrolltocurrent,250)},$(window).scroll(function(e){if(!animatingup&&!animatingdown){if(nextpage=currentpage>=pages?pages:currentpage+1,prevpage=currentpage<=1?1:currentpage-1,!animatingup&&$(window).scrollTop()+$(window).height()>=$(panelId+nextpage).offset().top+100&&nextpage>currentpage){var n=$(panelId+nextpage),a=n.position().top;return animatingdown=!0,void $("html, body").animate({scrollTop:a},500,function(){currentpage=nextpage,animatingdown=!1,document.location.hash=panelId+currentpage})}if(!animatingdown&&$(panelId+currentpage).offset().top-$(window).scrollTop()>=100&&prevpage<currentpage){var n=$(panelId+prevpage),a=n.position().top;return animatingup=!0,void $("html, body").animate({scrollTop:a},500,function(){currentpage=prevpage,animatingup=!1,document.location.hash=panelId+currentpage})}}});